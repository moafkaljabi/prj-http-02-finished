{"ast":null,"code":"import { HttpClient } from \"@angular/common/http\";\nimport { Subject, throwError } from \"rxjs\";\nimport { catchError, tap } from \"rxjs/operators\";\nimport { User } from \"./user.model\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let AuthServices = /*#__PURE__*/(() => {\n  class AuthServices {\n    constructor(http) {\n      this.http = http;\n      this.user = new Subject();\n    }\n    signup(email, password) {\n      return this.http.post('https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCILqxCAyaKWmaNI9icpNMTXTZiCMGLFSw', {\n        email: email,\n        password: password,\n        returnSecureToken: true\n      }).pipe(catchError(this.handleError), tap(resData => {\n        const expirationDate = new Date(new Date().getTime() + +resData.expiresIn * 1000);\n        const user = new User(resData.email, resData.localId, resData.idToken, expirationDate);\n        this.user.next(user);\n      }));\n    }\n    login(email, password) {\n      return this.http.post('https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCILqxCAyaKWmaNI9icpNMTXTZiCMGLFSw', {\n        email: email,\n        password: password,\n        returnSecureToken: true\n      }).pipe(catchError(this.handleError));\n    }\n    userAuthentication() {}\n    handleError(errorRes) {\n      let errorMessage = \"An unknown error occured!\";\n      if (!errorRes.error || !errorRes.error.error) {\n        return throwError(errorMessage);\n      }\n      switch (errorRes.error.error.message) {\n        case 'EMAIL_EXISTS':\n          errorMessage = 'This email already exists';\n          break;\n        case 'EMAIL_NOT_FOUND':\n          errorMessage = 'This email is not registered';\n          break;\n      }\n      return throwError(errorMessage);\n    }\n    static #_ = this.ɵfac = function AuthServices_Factory(t) {\n      return new (t || AuthServices)(i0.ɵɵinject(i1.HttpClient));\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthServices,\n      factory: AuthServices.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return AuthServices;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}